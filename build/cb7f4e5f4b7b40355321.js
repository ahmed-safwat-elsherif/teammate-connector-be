import express from"express";import cors from"cors";import"dotenv/config";import{serverPort}from"./src/config/index.js";import bodyParser from"body-parser";import logger from"./src/utils/logger.js";import cronJobRoutes from"./src/routes/cronJob.js";import userRoutes from"./src/routes/users.js";import logsRoutes from"./src/routes/logs.js";import"./src/db/index.js";import swaggerDocs from"./src/utils/swagger.js";import SyncLogsBuilder from"./src/utils/SyncLogsBuilder.js";const app=express();(async()=>{await SyncLogsBuilder.init()})(),app.use(cors()),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!0})),app.use(logger),app.get("/",((r,s)=>{s.redirect("/docs")})),app.use("/sync",cronJobRoutes),app.use("/auth",userRoutes),app.use("/logs",logsRoutes),app.listen(serverPort,(async()=>{swaggerDocs(app,serverPort),console.log(`Server is running on port:${serverPort}`)}));